{"ast":null,"code":"const key = \"RGAPI-84d33f36-f096-44d2-baea-b62b26af9979\";\nconst proxyUrl = \"https://thingproxy.freeboard.io/fetch/\";\n\nasync function fetchJSON(url) {\n  const data = await fetch(url);\n  return await data.json();\n} //to prevent too many requests to the riot api, save json\n\n\nconst currentSummonerJSON = null;\n\nasync function requestSummonerJSON(player) {\n  const riot_api_url = `https://euw1.api.riotgames.com/lol/summoner/v4/summoners/by-name/${player}?api_key=${key}`;\n  const full_url = `${proxyUrl}${riot_api_url}`;\n  const json = await fetchJSON(full_url);\n  return json;\n}\n\nasync function getSummonerJSON(player) {\n  if (currentSummonerJSON === null || currentSummonerJSON.name !== player) {\n    //new request\n    currentSummonerJSON = requestSummonerJSON(player);\n  }\n\n  return currentSummonerJSON;\n}\n\nasync function getProfileIconId(player) {\n  const json = await getSummonerJSON(player);\n  return json.profileIconId;\n}\n\nexport async function getPlayerIconPNGLink(player) {\n  const iconId = await getProfileIconId(player);\n  return `http://ddragon.leagueoflegends.com/cdn/10.15.1/img/profileicon/${iconId}.png`;\n}\nexport async function getPlayerLevel(player) {\n  const json = await getSummonerJSON(player);\n  return json.summonerLevel;\n}","map":{"version":3,"sources":["C:/website/src/LeagueOfLegendsApi.js"],"names":["key","proxyUrl","fetchJSON","url","data","fetch","json","currentSummonerJSON","requestSummonerJSON","player","riot_api_url","full_url","getSummonerJSON","name","getProfileIconId","profileIconId","getPlayerIconPNGLink","iconId","getPlayerLevel","summonerLevel"],"mappings":"AAAA,MAAMA,GAAG,GAAG,4CAAZ;AACA,MAAMC,QAAQ,GAAG,wCAAjB;;AAEA,eAAeC,SAAf,CAAyBC,GAAzB,EAA8B;AAC1B,QAAMC,IAAI,GAAG,MAAMC,KAAK,CAAEF,GAAF,CAAxB;AACA,SAAO,MAAMC,IAAI,CAACE,IAAL,EAAb;AACH,C,CAED;;;AACA,MAAMC,mBAAmB,GAAG,IAA5B;;AAEA,eAAeC,mBAAf,CAAmCC,MAAnC,EAA2C;AACvC,QAAMC,YAAY,GAAI,oEAAmED,MAAO,YAAWT,GAAI,EAA/G;AACA,QAAMW,QAAQ,GAAI,GAAEV,QAAS,GAAES,YAAa,EAA5C;AACA,QAAMJ,IAAI,GAAG,MAAMJ,SAAS,CAACS,QAAD,CAA5B;AACA,SAAOL,IAAP;AACH;;AAED,eAAeM,eAAf,CAA+BH,MAA/B,EAAuC;AACnC,MAAIF,mBAAmB,KAAK,IAAxB,IAAgCA,mBAAmB,CAACM,IAApB,KAA6BJ,MAAjE,EAAyE;AACrE;AACAF,IAAAA,mBAAmB,GAAGC,mBAAmB,CAACC,MAAD,CAAzC;AACH;;AACD,SAAOF,mBAAP;AACH;;AAED,eAAeO,gBAAf,CAAgCL,MAAhC,EAAwC;AACpC,QAAMH,IAAI,GAAG,MAAMM,eAAe,CAACH,MAAD,CAAlC;AACA,SAAOH,IAAI,CAACS,aAAZ;AACH;;AAED,OAAO,eAAeC,oBAAf,CAAoCP,MAApC,EAA4C;AAC/C,QAAMQ,MAAM,GAAG,MAAMH,gBAAgB,CAACL,MAAD,CAArC;AACA,SAAQ,kEAAiEQ,MAAO,MAAhF;AACH;AAED,OAAO,eAAeC,cAAf,CAA8BT,MAA9B,EAAsC;AACzC,QAAMH,IAAI,GAAG,MAAMM,eAAe,CAACH,MAAD,CAAlC;AACA,SAAOH,IAAI,CAACa,aAAZ;AACH","sourcesContent":["const key = \"RGAPI-84d33f36-f096-44d2-baea-b62b26af9979\";\r\nconst proxyUrl = \"https://thingproxy.freeboard.io/fetch/\";\r\n\r\nasync function fetchJSON(url) {\r\n    const data = await fetch (url);\r\n    return await data.json();\r\n}\r\n\r\n//to prevent too many requests to the riot api, save json\r\nconst currentSummonerJSON = null;\r\n\r\nasync function requestSummonerJSON(player) {\r\n    const riot_api_url = `https://euw1.api.riotgames.com/lol/summoner/v4/summoners/by-name/${player}?api_key=${key}`;\r\n    const full_url = `${proxyUrl}${riot_api_url}`;\r\n    const json = await fetchJSON(full_url);\r\n    return json;\r\n}\r\n\r\nasync function getSummonerJSON(player) {\r\n    if (currentSummonerJSON === null || currentSummonerJSON.name !== player) {\r\n        //new request\r\n        currentSummonerJSON = requestSummonerJSON(player);\r\n    }\r\n    return currentSummonerJSON;\r\n}\r\n\r\nasync function getProfileIconId(player) {\r\n    const json = await getSummonerJSON(player);\r\n    return json.profileIconId;\r\n}\r\n\r\nexport async function getPlayerIconPNGLink(player) {\r\n    const iconId = await getProfileIconId(player);\r\n    return `http://ddragon.leagueoflegends.com/cdn/10.15.1/img/profileicon/${iconId}.png`;\r\n}\r\n\r\nexport async function getPlayerLevel(player) {\r\n    const json = await getSummonerJSON(player);\r\n    return json.summonerLevel;\r\n}"]},"metadata":{},"sourceType":"module"}